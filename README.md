# Claude Farmer

Farm your code with Claude tokens overnight.

## Usage
### 1. Structure your project

```
./
├── features/<feature_name>/
│   ├── GOAL.md       # Human-written specification
│   ├── docs/         # Text or Markdown Files for AI to read (or write)
│   └── tests/        # Unit tests for this feature
│ 
│ # Other stuffs farmer doesn't care but are suggested
├── tests/            # Integration tests that orchestrates the features
```

- Each feature is standalone:
  - There is NO knowledge about anything outside.
  - All dependencies must be prototyped as interfaces within the folder.
  - **GOAL.md** - The heart of each feature. A human-written file describing what the feature aims to achieve. Claude works toward this goal. This file should not be edited without human review.
  - **docs/** - Contains text or markdown files for AI to read / write. Mainly used for AI to record their work.
  - **tests/** - Unit tests for the feature (kept within the feature folder, not at project root).
  - Temporary text/log files may also be generated here depending on the feature.

### 2. Call your farmer
- Call your farmer in the project root. Specify the trunk branch (default is `develop`). `--loop` flag is used by default, use `--once` if you want it once:
```
claude-farmer patch <feature> --trunk <trunk_branch=develop> --loop
```
or just
```
claude-farmer patch <feature>
```

## Branching Strategy
- User should specify a "trunk" branch, by default it would be `develop`
- Each feature should have its own feature branch `features/<feature_name>` being checkout merged from this trunk branch, this feature branch is long-living.
- Any change on a feature should be performed on the feature branch, or subranch of feature branch, depending on the task or use case.

## Configurations
### AI
- Currently, we only support claude code headless mode, but more AI could be supported in the future.
  - By default, use ultrathink mode and the default AI model, unless specified.


## Development
### Project Structure
- claude-farmer itself would also be generated by itself, except some core features.
```
claude-farmer/
├── features/<feature_name>/
│   ├── GOAL.md       # Human-written specification
│   ├── docs/         # Text or Markdown Files for AI to read (or write)
│   └── tests/        # Unit tests for this feature
├── tests/            # Integration tests that orchestrates the features
└── bin/              # Distributable executables
```


### `tests/`

Integration tests that orchestrate multiple features together.

### `bin/`

Executables to be distributed. Should closely mirror the integration tests.
